{% extends 'BASE.html' %}

{% block title_bl %}Dasbor SIVTBC{% endblock %}

{% block body_bl %}
<div class="container">
    <h1 class="text-center">Studi Inventori TBC 2023-2024</h1>
    <h3 class="text-center mb-5">Perkembangan Pengumpulan Data Individu</h3>
    <div class="div-table">
        <table id="datatable" class="table table-hover table-striped">
            <thead>
                <tr>
                    <th class="text-center">Kode Provinsi</th>
                    <th>Nama Provinsi</th>
                    <th class="text-center">Kode Kabupaten/Kota</th>
                    <th>Nama Kabupaten/Kota</th>
                    <th class="text-center">Jumlah Individu</th>
                    <th class="text-center">Jumlah Faskes</th>
                    <th>Tindakan</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="text-center">--</td>
                    <td><b>NASIONAL</b></td>
                    <td></td>
                    <td></td>
                    <td class="text-center"><b>{{ nas_jml_indiv }}</b></td>
                    <td class="text-center"><b>{{ nas_jml_faskes }}</b></td>
                    <td>-</td>
                </tr>
                {% for kk, jml_fk_unik in kks %}
                <tr>
                    <td class="text-center">{{ kk.kode_prov }}</td>
                    <td>{{ kk.nama_prov }}</td>
                    <td class="text-center">{{ kk.kode_kab }}</td>
                    <td>{{ kk.nama }}</td>
                    <td class="text-center">{{ kk.jml_indiv }}</td>
                    <td class="text-center">{{ jml_fk_unik }}</td>
                    <td>
                        <a href="{% url 'sitbc:dasbor:detail' kk.kode %}" class="btn btn-sm btn-success">Lihat Detail</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block body_add_bl %}
<script type="text/javascript">
    $(document).ready(function () {
        $('#datatable').DataTable({
            paging: false,
            pageLength: 32,
            lengthMenu: [32],
            searching: true,
            language: {
                url: 'https://cdn.datatables.net/plug-ins/1.13.1/i18n/id.json',
            },
            // "columnDefs": [
            //     {
            //         "orderable": false,
            //         "targets": -1 // -1 refers to the last column
            //     }
            // ],
        });
    });
</script>
{% endblock %}